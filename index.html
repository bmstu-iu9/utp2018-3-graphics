<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Визуализатор математических графиков</title>
    <link rel="shortcut icon" href="images/lable.jpg" type="image/x-jpg">
    <link rel="stylesheet" type="text/css" href="styles/shell.css">
    <style>
        html {
            background: url(images/2.jpg);
        }
    </style>
</head>

<body >

<div class = '' id = 'polygon'>
    <div class = 'polygon-top'>
        <h1>
            <img src="images/lable.jpg" alt="Our label">
            Визуализатор математических графиков
        </h1>

    </div>
</div>

<div id="about_site">
    <h2>
        Как построить график?
    </h2>
    <br>
    
    <div class="subabout">
        <p>
            Для построения графика функции сначала необходимо выбрать тип функции.
            Появится окно с полем для ввода функции.
            Затем введите саму функцию в это поле.
            Если возникли затруднения с корректным вводом функции, то обратитесь к таблице
            с обозначениями для записи функций, которая приведена ниже.
            Если вы выбрали функций с одной переменно, то можете указать до 5
            различных таких функций в поле ввода через запятую " , " .
            Далее укажите диапазон отображаемых значений по осям.
            Затем необходимо нажать кнопку
            <img src="images/build.jpg" alt="buld">
        </p>
    </div>
</div>
<br>

<div class="functions">
    <h2>Выберете тип функции</h2>
    <br>

    <div id="links">
        <a href="#usually">Функция одного переменного </a><br>
        <a href="#fmp">Функция двух переменных </a><br>
        <a href="#polar">Функция в полярных координатах </a><br>
        <a href="#implicity">Функция в неявном виде </a><br>
        <a href="#parametr">Функция в параметрическом виде </a><br><br>
    </div>

    <div class="function-boxes">
        <div id="usually">
            <h3>Функция одного переменного </h3><br>
            <label> f(x) = </label>

            <input type="text" name="usually-fun"
                   class="usually-graph-input" id="oneVarIn" placeholder="Например: x^3 + 5x -6"/><br><br>

            <h3>Задайте диапазон значений по осям</h3><br>

            <div class="coordinates-range">
                <div class='abscissa-usually' id="abscissa-usually">
                    <h3>Ось Ox: </h3>
                    <label>интервал: от </label>
                    <input type="text" name="from-abscissa" id="aBoundOneVar"
                           class="low-abscissa" placeholder="-10"/>
                    <label> до </label>
                    <input type="text" name="to-abscissa" id="bBoundOneVar"
                           class="high-abscissa" placeholder="10"/>
                </div><br>

                <div class="ordinate-usually" id="ordinate-usually">
                    <h3>Ось Oy: </h3>
                    <label>интервал: от </label>
                    <input type="text" name="from-ordinate" id="cBoundOneVar"
                           class="low-ordinate" placeholder="-10"/>
                    <label> до </label>
                    <input type="text" name="to-ordinate" id="dBoundOneVar"
                           class="high-ordinate" placeholder="10"/>
                    <label for="RangeAvto">
                        <input type="checkbox" checked="checked" id="RangeAvto" name="RangeAvto"/>
                        авто
                    </label>
                </div>

            </div>

            <p><button id = 'DrawUsuallyGraph' onclick='drawUsuallyGraph()'>Построить</button></p>
            <canvas id="canvas2dUsually" height="0" width="0"></canvas>
        </div>

        <div id="fmp">

            <h3>Функция двух переменных </h3><br>
            <label> f(x, y) = </label>
            <input type="text" name="fmp-fun" id="twoVarIn"
                   class="fmp-graph-input" placeholder="Например: x^2 + y^2"/><br><br>

            <h3>Задайте диапазон значений по осям</h3><br>

            <div class="coordinates-range">

                <div class='abscissa-fmp' id="abscissa-fmp">
                    <h3>Ось Ox: </h3>
                    <label>интервал: от </label>
                    <input type="text" name="from-abscissa" id="aBoundTwoVar"
                           class="low-abscissa" placeholder="-10"/>
                    <label> до </label>
                    <input type="text" name="to-abscissa" id="bBoundTwoVar"
                           class="high-abscissa" placeholder="10"/>
                </div><br>

                <div class="ordinate-fmp" id="ordinate-fmp">
                    <h3>Ось Oy: </h3>
                    <label>интервал: от </label>
                    <input type="text" name="from-ordinate" id="cBoundTwoVar"
                           class="low-ordinate" placeholder="-10"/>
                    <label> до </label>
                    <input type="text" name="to-ordinate" id="dBoundTwoVar"
                           class="high-ordinate" placeholder="10"/>
                </div><br>

                <div class="applicate-fmp" id="applicate-fmp">
                    <h3>Ось Oz: </h3>
                    <label>интервал: от </label>
                    <input type="text" name="from-applicate" id="z0Bound"
                           class="low-applicate" placeholder="-10"/>
                    <label> до </label>
                    <input type="text" name="to-applicate" id="z1Bound"
                           class="high-applicate" placeholder="10"/>
                    <label for="RangeAvtoZ">
                        <input type="checkbox" checked="checked" id="RangeAvtoZ" name="RangeAvto"/>
                        авто
                    </label>
                </div>

            </div>

            <p><button id = 'DrawFmpGraph' onclick='drawFmpGraph()'>Построить</button></p>

        </div>
        <div id="polar">

            <h3>Функция в полярных координатах </h3><br><br>
            <label> r(a) = </label>
            <input type="text" name="polar-fun" id="polarIn"
                   class="polar-graph-input" placeholder="Например: sin(6t)"/>
            <label>,где а в градусах от </label>
            <input type="text" name="from-degree" id="polarLowerBound"
                   class="low-degree" placeholder="0"/>°
            <label> до </label>
            <input type="text" name="to-degree" id="polarUpperBound"
                   class="high-degree" placeholder="360"/>°<br><br>

            <p><button id = 'DrawPolarGraph' onclick='drawPolarGraph()'>Построить</button></p>
            <canvas id="canvas2dPolar" height="0" width="0"></canvas>
        </div>

        <div id="implicity">
            <h3>Функция в неявном виде </h3><br><br>

            <input type="text" name="implicity-fun" id="implicitIn"
                   class="implicity-graph-input" placeholder="Например: x^2 + y^2 = 25 "/><br><br>

            <h3>Задайте диапазон значений по осям</h3><br>

            <div class="coordinates-range">

                <div class='abscissa-implicity' id="abscissa-implicity">
                    <h3>Ось Ox: </h3>
                    <label>интервал: от </label>
                    <input type="text" name="from-abscissa" id="aBoundImpl"
                           class="low-abscissa" placeholder="-10"/>
                    <label> до </label>
                    <input type="text" name="to-abscissa" id="bBoundImpl"
                           class="high-abscissa" placeholder="10"/>
                </div><br>

                <div class="ordinate-implicity" id="ordinate-implicity">
                    <h3>Ось Oy: </h3>
                    <label>интервал: от </label>
                    <input type="text" name="from-ordinate" id="cBoundImpl"
                           class="low-ordinate" placeholder="-10"/>
                    <label> до </label>
                    <input type="text" name="to-ordinate" id="dBoundImpl"
                           class="high-ordinate" placeholder="10"/>
                </div><br>

            </div>

            <p><button id = 'DrawImplicityGraph' onclick='drawImplicityGraph()'>Построить</button></p>
            <canvas id="canvas2dImplicity" height="0" width="0"></canvas>
        </div>

        <div id="parametr">
            <h3>Функция в параметрическом виде </h3><br><br>
            <label> x(t) = </label>
            <input type="text" name="parametr-fun-x" id="parametricInX"
                   class="parametr-graph-input" placeholder="Например: t - 2sin(t)"/><br><br>
            <label> y(t) = </label>
            <input type="text" name="parametr-fun-y" id="parametricInY"
                   class="parametr-graph-input" placeholder="Например: 5 - 5cos(t)"/>
            <label>,где t от </label>
            <input type="text" name="from-parametr" id="parametricLowerBound"
                   class="low-parametr" placeholder="-5"/>
            <label> до </label>
            <input type="text" name="to-parametr" id="parametricUpperBound"
                   class="high-parametr" placeholder="5"/><br>
            <br>

            <p><button id = 'DrawParametrGraph' onclick='drawParametrGraph()'>Построить</button></p>
            <canvas id="canvas2dParametr" height="0" width="0"></canvas>
        </div>
    </div>
</div>
<br><br>

<div id="prompt">
    <h2>
        Таблица обозначений
    </h2>
    <br>
    <table>
        <tr>
            <th>Число пи (3,14...)</th>
            <th>pi</th>
        </tr>
        <tr>
            <th>Экспонента (2,71...)</th>
            <th>e</th>
        </tr>
        <tr>
            <th>Умножение</th>
            <th>*</th>
        </tr>
        <tr>
            <th>Деление</th>
            <th>/</th>
        </tr>
        <tr>
            <th>Возведение в степень</th>
            <th>^</th>
        </tr>
        <tr>
            <th>Извлечение корня</th>
            <th>sqrt</th>
        </tr>
        <tr>
            <th>Модуль</th>
            <th>abc</th>
        </tr>
        <tr>
            <th>Логарифм по основанию 2</th>
            <th>log2(x)</th>
        </tr>
        <tr>
            <th>Логарифм по основанию 10 от x</th>
            <th>lg(x) или log10(x)</th>
        </tr>
        <tr>
            <th>Натуральный логарифм</th>
            <th>ln(x)</th>
        </tr>
        <tr>
            <th>Логарифм по основанию b</th>
            <th>log(x;b)</th>
        </tr>
        <tr>
            <th>Синус в градусах</th>
            <th>sin</th>
        </tr>
        <tr>
            <th>Косинус в градусах</th>
            <th>cos</th>
        </tr>
        <tr>
            <th>Тангенс в градусах</th>
            <th>tg</th>
        </tr>
        <tr>
            <th>Котангенс в градусах</th>
            <th>ctg</th>
        </tr>
        <tr>
            <th>Арксинус</th>
            <th>asin</th>
        </tr>
        <tr>
            <th>Арккосинус</th>
            <th>acos</th>
        </tr>
        <tr>
            <th>Арктангенс</th>
            <th>atg</th>
        </tr>
        <tr>
            <th>Арккотангенс</th>
            <th>actg</th>
        </tr>
    </table>
</div>

<script src="./algorithms/oneVarFuncPlot.js" type="text/javascript"></script>
<script src="./algorithms/twoVarFuncPlot.js" type="text/javascript"></script>
<script src="./algorithms/implicitFuncPlot.js" type="text/javascript"></script>
<script src="./algorithms/parametricPlot.js" type="text/javascript"></script>
<script src="./algorithms/bindings.js" type="text/javascript"></script>
<script src="./algorithms/axisPlot.js" type="text/javascript"></script>
<script src="./algorithms/classes.js" type="text/javascript"></script>

<script>
    function drawUsuallyGraph() {
        const canvas = document.getElementById('canvas2dUsually');

        const funcInput = document.getElementById('oneVarIn').value;
        const a = document.getElementById('aBoundOneVar').value;
        const b = document.getElementById('bBoundOneVar').value;
        const c = document.getElementById('cBoundOneVar').value;
        const d = document.getElementById('dBoundOneVar').value;
        const auto = document.getElementById('RangeAvto').checked;

        if (auto) {
            if (checkInputOneVar(funcInput, eval(a), eval(b))) {
                canvas.width = 650;
                canvas.height = 650;
                buildAll(funcInput, eval(a), eval(b));
            }
        } else {
            if (checkInputOneVar(funcInput, eval(a), eval(b), false, eval(c), eval(d))) {
                canvas.width = 650;
                canvas.height = 650;
                buildAll(funcInput, eval(a), eval(b), false, eval(c), eval(d));
            }
        }
    }

    function drawFmpGraph() {

        const funcInput = document.getElementById('twoVarIn').value;

        const a = document.getElementById('aBoundTwoVar').value;
        const b = document.getElementById('bBoundTwoVar').value;
        const c = document.getElementById('cBoundTwoVar').value;
        const d = document.getElementById('dBoundTwoVar').value;
        const auto = document.getElementById('RangeAvtoZ').checked;
        const z0 = document.getElementById('z0Bound').value;
        const z1 = document.getElementById('z1Bound').value;

        if (checkInputTwoVar(funcInput, eval(a), eval(b), eval(c), eval(d))) {

            if (!auto && eval(z1) <= eval(z0)) {
                alert('Неверно заданы интервалы');
                return;
            }

            if (!document.getElementById('canvas2dFmp')) {

                const fmp = document.getElementById('fmp');
                const par = document.createElement('div');

                par.style.paddingLeft = '240px';

                const rotateLeftButton = document.createElement('button');
                const rotateRightButton = document.createElement('button');

                rotateLeftButton.id = 'rotateLeft';
                rotateRightButton.id = 'rotateRight';

                rotateLeftButton.innerHTML = '<img src="images/arrow_left.png" alt="arrow left">';
                rotateRightButton.innerHTML = '<img src="images/arrow_right.png" alt="arrow left">';

                const canvas3d = document.createElement('canvas');
                const canvasIsolines = document.createElement('canvas');

                canvas3d.id = 'canvas2dFmp';
                canvasIsolines.id = 'canvasIsolines';

                par.appendChild(rotateLeftButton);
                par.appendChild(rotateRightButton);

                rotateRightButton.style.marginLeft = '20px';

                fmp.appendChild(par);
                fmp.appendChild(canvas3d);
                fmp.appendChild(canvasIsolines);

                canvas3d.width = 650;
                canvas3d.height = 650;

                canvasIsolines.width = 650;
                canvasIsolines.height = 650;

                if (auto) {
                    start(funcInput, eval(a), eval(b), eval(c), eval(d));
                } else {
                    start(funcInput, eval(a), eval(b), eval(c), eval(d), false, eval(z0), eval(z1));
                }

                rotateLeftButton.onclick = rotateLeft;
                rotateRightButton.onclick = rotateRight;

            } else if (auto) {
                const rotateLeftButton = document.getElementById('rotateLeft');
                const rotateRightButton = document.getElementById('rotateRight');

                start(funcInput, eval(a), eval(b), eval(c), eval(d));

                rotateLeftButton.onclick = rotateLeft;
                rotateRightButton.onclick = rotateRight;
            } else {
                const rotateLeftButton = document.getElementById('rotateLeft');
                const rotateRightButton = document.getElementById('rotateRight');

                start(funcInput, eval(a), eval(b), eval(c), eval(d), false, eval(z0), eval(z1));

                rotateLeftButton.onclick = rotateLeft;
                rotateRightButton.onclick = rotateRight;
            }
        }

    }

    function drawPolarGraph() {
        const canvas = document.getElementById('canvas2dPolar');

        const t0 = document.getElementById('polarLowerBound').value;
        const t1 = document.getElementById('polarUpperBound').value;
        const funcInput = document.getElementById('polarIn').value;

        if (checkInputPolar(funcInput, eval(t0), eval(t1))) {
            canvas.width = 650;
            canvas.height = 650;
            startPolar(funcInput, eval(t0), eval(t1));
        }
    }

    function drawImplicityGraph() {
        const canvas = document.getElementById('canvas2dImplicity');

        const funcInput = document.getElementById('implicitIn').value;

        const a = document.getElementById('aBoundImpl').value;
        const b = document.getElementById('bBoundImpl').value;
        const c = document.getElementById('cBoundImpl').value;
        const d = document.getElementById('dBoundImpl').value;

        if (checkInputImplicit(funcInput, eval(a), eval(b), eval(c), eval(d))) {
            canvas.width = 650;
            canvas.height = 650;
            startImpl(funcInput, eval(a), eval(b), eval(c), eval(d));
        }
    }

    function drawParametrGraph() {
        const canvas = document.getElementById('canvas2dParametr');

        const t0 = document.getElementById('parametricLowerBound').value;
        const t1 = document.getElementById('parametricUpperBound').value;
        const funcInputX = document.getElementById('parametricInX').value;
        const funcInputY = document.getElementById('parametricInY').value;

        if (checkInputParametric(funcInputX, funcInputY, eval(t0), eval(t1))) {
            canvas.width = 650;
            canvas.height = 650;
            startParametric(funcInputX, funcInputY, eval(t0), eval(t1));
        }

    }
</script>

</body>
</html>
